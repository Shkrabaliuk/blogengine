<?php
/**
 * –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–æ–≥–æ –ø–æ—Å—Ç—É
 * –ó–∞–ø—É—Å—Ç—ñ—Ç—å –æ–¥–∏–Ω —Ä–∞–∑ –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è: php demo_post.php
 */

require_once 'system/core.php';

if (!IS_ADMIN) {
    echo "–ü–æ–º–∏–ª–∫–∞: –í–∏ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ —è–∫ –∞–¥–º—ñ–Ω\n";
    exit(1);
}

$demo_title = "–í—ñ—Ç–∞—î–º–æ –≤ –±–ª–æ–∑—ñ!";
$demo_text = <<<TEXT
–¶–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –ø–æ—Å—Ç, —è–∫–∏–π –ø–æ–∫–∞–∑—É—î –≤—Å—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –±–ª–æ–≥—É.

## –¢–∏–ø–æ–≥—Ä–∞—Ñ—ñ–∫–∞

–ù–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ–∫—Ä–∞—â—É—î —Ç–µ–∫—Å—Ç:

"–ó–≤–∏—á–∞–π–Ω—ñ –ª–∞–ø–∫–∏" —Å—Ç–∞—é—Ç—å ¬´–∫—Ä–∞—Å–∏–≤–∏–º–∏ —ë–ª–æ—á–∫–∞–º–∏¬ª.

–í–∫–ª–∞–¥–µ–Ω—ñ –ª–∞–ø–∫–∏: ¬´–∑–æ–≤–Ω—ñ—à–Ω—ñ–π —Ç–µ–∫—Å—Ç –∑ "–≤–∫–ª–∞–¥–µ–Ω–∏–º–∏ –ª–∞–ø–∫–∞–º–∏" –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ¬ª.

–ü–æ–¥–≤—ñ–π–Ω–∏–π –¥–µ—Ñ—ñ—Å -- —Å—Ç–∞—î –¥–æ–≤–≥–∏–º —Ç–∏—Ä–µ, –∞ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ 2020-2024 –æ—Ç—Ä–∏–º—É—é—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ç–∏—Ä–µ.

## –°–ø–∏—Å–∫–∏

* –ü–µ—Ä—à–∏–π –ø—É–Ω–∫—Ç
* –î—Ä—É–≥–∏–π –ø—É–Ω–∫—Ç  
* –¢—Ä–µ—Ç—ñ–π –ø—É–Ω–∫—Ç

## –ö–æ–¥

–Ü–Ω–ª–∞–π–Ω –∫–æ–¥ –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫: `echo "Hello World";`

–ê —Ü–µ –±–ª–æ–∫ –∫–æ–¥—É –∑ –ø—ñ–¥—Å–≤—ñ—Ç–∫–æ—é —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É:

```php
function greet(\$name) {
    return "–ü—Ä–∏–≤—ñ—Ç, \$name!";
}

echo greet("—Å–≤—ñ—Ç");
```

```javascript
const calculate = (a, b) => {
    return a + b;
};

console.log(calculate(5, 3));
```

## –ü–æ—Å–∏–ª–∞–Ω–Ω—è

–ü–æ—Å–∏–ª–∞–Ω–Ω—è —Å—Ç–∞—é—Ç—å –∫–ª—ñ–∫–æ–≤–∏–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ: https://github.com

## –°–ø–µ—Ü—Å–∏–º–≤–æ–ª–∏

–ö–æ–ø—ñ—Ä–∞–π—Ç (c), —Ç–æ–≤–∞—Ä–Ω–∏–π –∑–Ω–∞–∫ (tm), –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∞ –º–∞—Ä–∫–∞ (r).

–°—Ç—Ä—ñ–ª–∫–∏: –≤–ª—ñ–≤–æ <-- —Ü–µ–Ω—Ç—Ä --> –≤–ø—Ä–∞–≤–æ

–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞: 5 != 3, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ +/- 2 –≥—Ä–∞–¥—É—Å–∏

## –©–æ –¥–∞–ª—ñ?

–°—Ç–≤–æ—Ä—é–π—Ç–µ —Å–≤–æ—ó –ø–æ—Å—Ç–∏, –¥–æ–¥–∞–≤–∞–π—Ç–µ —Ç–µ–≥–∏, –∑–∞–≤–∞–Ω—Ç–∞–∂—É–π—Ç–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è!

–ü—Ä–∏—î–º–Ω–æ–≥–æ –≤–µ–¥–µ–Ω–Ω—è –±–ª–æ–≥—É!
TEXT;

$demo_snippet = "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –ø–æ—Å—Ç –∑ —É—Å—ñ–º–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏ –±–ª–æ–≥—É: —Ç–∏–ø–æ–≥—Ä–∞—Ñ—ñ–∫–∞, –∫–æ–¥, —Å–ø–∏—Å–∫–∏ —Ç–∞ –±–∞–≥–∞—Ç–æ —ñ–Ω—à–æ–≥–æ.";
$demo_tags = "–¥–µ–º–æ, —Ç–∏–ø–æ–≥—Ä–∞—Ñ—ñ–∫–∞, –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ";

try {
    $url = generate_url_slug($demo_title);
    
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –ø–æ—Å—Ç –≤–∂–µ —ñ—Å–Ω—É—î
    $st = $db->prepare("SELECT id FROM notes WHERE url_name = ?");
    $st->execute([$url]);
    
    if ($st->fetch()) {
        echo "‚úÖ –î–µ–º–æ-–ø–æ—Å—Ç –≤–∂–µ —ñ—Å–Ω—É—î\n";
        exit(0);
    }
    
    // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ—Å—Ç
    $db->prepare("INSERT INTO notes (title, text, url_name, stamp, is_draft, snippet) VALUES (?,?,?,?,?,?)")
       ->execute([$demo_title, $demo_text, $url, time(), 0, $demo_snippet]);
    
    $post_id = $db->lastInsertId();
    
    // –î–æ–¥–∞—î–º–æ —Ç–µ–≥–∏
    save_post_tags($post_id, $demo_tags);
    
    echo "‚úÖ –î–µ–º–æ-–ø–æ—Å—Ç —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ!\n";
    echo "üîó –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ: /$url\n";
    
} catch (Exception $e) {
    echo "‚ùå –ü–æ–º–∏–ª–∫–∞: " . $e->getMessage() . "\n";
    exit(1);
}
?>
